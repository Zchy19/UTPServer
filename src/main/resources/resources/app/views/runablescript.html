<div id = "runableScriptContent" class="content-wrapper">
	<div id="runablescript_div" style="width: 100%; height: 100%"></div>
	<div id="runableScriptantbotinfo" data-bind="compose: viewManager.runantbotActivePage"></div>
</div>


<!-- 创建时序用例 -->
<div class="modal fade" id="runcreateTimeSeriesScriptModal" tabindex="-1" role="dialog" aria-labelledby="runmyModalLabel" data-backdrop="static">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">创建时序用例</h4>
            </div>
            <div class="modal-body" style="max-height: 400px; overflow-y: auto;">
				<div class="form-group">
					<label><span lang="en">仿真模块:</span></label>
					<select class="form-control" style="color: black;" data-bind="
							options: projectManager.agentsConfigData(), 
							value: selectedAntbot,
							optionsText: 'antbotName',
							optionsCaption: '选择仿真模块',
							event: { change: onAntbotSelected }">
					</select>
				</div>
				<div class="form-group">
					<label><span lang="en">选择消息:</span></label>
					<select class="form-control" data-bind="
							options: checkedCommandNodes, 
							value: checkedCommandNode,
							optionsText: 'name',
							optionsCaption: '选择消息'">
					</select>
				</div>
				<div class="form-group">
					<button type="button" class="btn btn-primary" data-bind="click: $root.addTimeSeriesScript, enable: selectedAntbot() && checkedCommandNode()">
						<span lang="en">增加消息</span>
					</button>
				</div>
                <div class="form-group">
                    <div class="col-xs-4">
                        <table class="table table-bordered table-striped table-hover">
                            <thead>
                                <tr>
                                    <th class="col-md-3"><small>名称</small></th>
                                    <th class="col-md-3"></th>
                                </tr>
                            </thead>
                            <tbody data-bind='foreach: cmdsStrings()'>
                                <tr>
                                    <td><small><label data-bind='text:alias'></label></small></td>
                                    <td>
                                        <small>
                                            <button class="btn btn-primary btn-sm" data-toggle="tooltip" title="编辑" data-bind="click: $parent.editTimeSeriesScript">
                                                <i class="glyphicon glyphicon-edit"></i>
                                            </button>
                                            <button class="btn btn-danger btn-sm" data-toggle="tooltip" title="删除协议" data-original-title="Delete" data-bind="click: $parent.removeTimeSeriesScript">
                                                <i class="glyphicon glyphicon-trash"></i>
                                            </button>
                                        </small>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="col-xs-8">
                        <div id="runtimeSeriesScriptDiagram"></div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-bind="click: $root.referTimeSeriesScript"><span lang="en">保存用例</span></button>
                <button type="button" class="btn btn-default pull-left" data-dismiss="modal">取消</button>
            </div>
        </div>
    </div>
</div>

<!-- 修改名称Modal -->
<div class="modal fade" id="runeditNameModal" tabindex="-1" role="dialog" aria-labelledby="runeditNameModalLabel" aria-hidden="true">
	<div class="modal-dialog" role="document">
	  <div class="modal-content">
		<div class="modal-header">
		  <h5 class="modal-title" id="runeditNameModalLabel">修改名称</h5>
		  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
			<span aria-hidden="true">&times;</span>
		  </button>
		</div>
		<div class="modal-body">
		  <input type="text" class="form-control" data-bind="value: newName" placeholder="输入新名称">
		</div>
		<div class="modal-footer">
		  <button type="button" class="btn btn-secondary" data-dismiss="modal">取消</button>
		  <button type="button" class="btn btn-primary" data-bind="click: saveNewName">保存</button>
		</div>
	  </div>
	</div>
  </div>

<!-- 消息模版内容 -->

<div class="modal fade" id="rungenericTimeSeriesScriptProtocolFieldSettingModal" tabindex="-1" role="dialog"
	aria-labelledby="runmyModalLabel"  data-backdrop="static" style="overflow-x: hidden;overflow-y: auto;">
	<div class="modal-dialog modal-lg">
		<div class="modal-content">
			<div class="modal-header">
				<h4 class="modal-title pull-left">消息帧结构设置</h4>
			</div>
			<div class="modal-body">
				<div class="form-group">
					<label>
						<span lang="en" data-bind='text:genericProtocolName'></span>
					</label>
					<div class="row">
						<div class="col-md-4">
							<div class="form-group">
								<div id="rungenericTimeSeriesScriptProtocolTreeview"
									style="background-color: #ffffff; height: 350px;"></div>
							</div>
						</div>
						<div class="col-md-8">
							<div class="form-group">
								<div id="runtimeSeriesScriptProtocolConfigView"style="height: 350px;"></div>
							</div>
						</div>
					</div>			
				</div>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-primary" data-bind="click: $root.composeGenericFrameField"><span lang="en">提交</span></button>
				<button type="button" class="btn btn-default pull-left" data-dismiss="modal">取消</button>
			</div>
		</div>
	</div>
</div>

<!-- Modal - Insert Existing Script -->
<div class="modal fade" id="runreferScriptModal" tabindex="-1" role="dialog" aria-labelledby="runmyModalLabel" data-backdrop="static">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">				
				<h4 class="modal-title">引入用例脚本</h4>
			</div>
			<div class="modal-body">
				<div class="form-group">
					<label><span lang="en">选择项目:</span></label>
					<select
						style="color: black"
						data-bind="
								options: projectManager.projects(), 
								value: selectedTargetProject,
								optionsText: 'name',
								event: { change: onProjectSelected }">
					</select>
				</div>
				<div class="form-group">
					<label><span lang="en">请选择用例/脚本</span></label>
					<div id="runreferScriptTreeview" style="background-color: #ffffff; height: 260px;"></div>
				</div>
				<!--
				<div class="form-group">
					<label><input type="checkbox" data-bind="checked:copyReference" />拷贝相关引用</label>
				</div>
				-->
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-primary" data-bind="click: $root.referScript"><span lang="en">确定</span></button>
				<button type="button" class="btn btn-default pull-left" data-dismiss="modal">取消</button>
			</div>
		</div>
	</div>
</div>

<div class="modal modal-warning fade in" id="rundeleteTestcaseModal"
	tabindex="-1" role="dialog" aria-labelledby="runmyModalLabel" data-backdrop="static">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<h4 class="modal-title">提醒</h4>
			</div>
			<div class="modal-body">
				<div>确定删除？</div>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-outline" data-dismiss="modal">否</button>
				<button type="button" class="btn btn-outline" data-dismiss="modal"
					data-bind="click:deleteTargetItem">是</button>
			</div>
		</div>
	</div>
</div>

<div class="modal modal-warning fade in" id="runforcerundeleteTestcaseModal"
	tabindex="-1" role="dialog" aria-labelledby="runmyModalLabel" data-backdrop="static">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<h4 class="modal-title">提醒</h4>
			</div>
			<div class="modal-body">
				<div>该用例/用例组/子脚本可能会被引用，确认删除？</div>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-outline" data-dismiss="modal">否</button>
				<button type="button" class="btn btn-outline" data-dismiss="modal"
					data-bind="click:forceDeleteTargetItem">是</button>
			</div>
		</div>
	</div>
</div>

<div class="modal fade" id="runscriptCustomizedFieldModal" tabindex="-1" role="dialog"
	aria-labelledby="runmyModalLabel" data-backdrop="static">
	<div class="modal-dialog modal-lg" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<h4 class="modal-title" id="runmyModalLabel">自定义字段</h4>
			</div>
			<div class="modal-body">
				<div id="runtestReport" data-bind="compose: customizedFieldContainer"></div>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-default pull-right" data-dismiss="modal">关闭</button>
				<button type="button" class="btn btn-primary" data-bind="click:updateScriptCustomizedFields">更新</button>
			</div>
		</div>
	</div>
</div>

<style>
	#rungenericTimeSeriesScriptProtocolFieldSettingModal .different_element {
		background-color: pink;
	}

	#rungenericTimeSeriesScriptProtocolFieldSettingModal .the_same_element {
		background-color: white;
	}
</style>